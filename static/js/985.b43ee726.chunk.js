"use strict";(self.webpackChunkwebtech_assignment2=self.webpackChunkwebtech_assignment2||[]).push([[985],{741:(m,t)=>{t.__esModule=!0,t.tokenizeChord=void 0,t.tokenizeChord=function(m){var t=(m||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}},1698:(m,t,n)=>{t.__esModule=!0,t.voicingsInRange=void 0;var e=n(7501),M=n(9905),P=n(741);t.voicingsInRange=function(m,t,n){void 0===t&&(t=M.lefthand),void 0===n&&(n=["D3","A4"]);var r=(0,P.tokenizeChord)(m),o=r[0],a=r[1];if(!t[a])return[];var i=t[a].map(function(m){return m.split(" ")}),s=e.Range.chromatic(n);return i.reduce(function(m,t){var M=t.map(function(m){return e.Interval.substract(m,t[0])}),P=e.Note.transpose(o,t[0]),r=s.filter(function(m){return e.Note.chroma(m)===e.Note.chroma(P)}).filter(function(m){return e.Note.midi(e.Note.transpose(m,M[M.length-1]))<=e.Note.midi(n[1])}).map(function(m){return e.Note.enharmonic(m,P)}).map(function(m){return M.map(function(t){return e.Note.transpose(m,t)})});return m.concat(r)},[])}},2985:(m,t,n)=>{n.r(t),n.d(t,{addVoicings:()=>E,packageName:()=>U,registerVoicings:()=>F,resetVoicings:()=>B,rootNotes:()=>z,scale:()=>I,scaleTrans:()=>w,scaleTranspose:()=>N,setDefaultVoicings:()=>q,setVoicingRange:()=>O,strans:()=>x,trans:()=>j,transpose:()=>y,voicing:()=>R,voicingAlias:()=>G,voicingRegistry:()=>V,voicings:()=>_});var e=n(45),M=n(9379),P=n(7501),r=n(5746),o=n(6468);const a=["dictionary","chord","anchor","offset","mode","n","octaves"],i=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],s=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],c=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],d={b:-1,"#":1};const u=m=>m%12,l=m=>{let t=Number(m);return isNaN(t)?P.Interval.semitones(m):t},f=(m,t)=>"number"==typeof m?m:"string"==typeof m?(0,r.noteToMidi)(m,t):void 0;function h(m,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;m=m.map(m=>"string"==typeof m?(0,r.noteToMidi)(m):m);const e=Math.floor(t/m.length)*n*12;return m[t=(0,r._mod)(t,m.length)]+e}let p={};function b(m,t,n,e){let[M,o]=P.Scale.tokenize(t);const a=f(M),i=u(a);if(!p[o]){let{intervals:m}=P.Scale.get("C ".concat(o));p[o]=m.map(l)}const s=p[o];if(!s)return null;let c=a;if(n){n=f(n,3);const t=u(n),M=(0,r._mod)(t-i,12),P=function(m,t,n){let e=0,M=1/0;return t.forEach((t,P)=>{const r=Math.abs(t-m);(r<M||n)&&(e=P,M=r)}),e}(M,s,e);m+=P,c=n-M}const d=12*Math.floor(m/s.length);return s[m=(0,r._mod)(m,s.length)]+c+d}let A={below:m=>m.slice(-1)[0],duck:m=>m.slice(-1)[0],above:m=>m[0],root:m=>m[0]};function g(m){var t;let{chord:n,dictionary:e,offset:M=0,n:P,mode:o="below",anchor:a="c5",octaves:p=1}=m;const[b,g]=function(m){const t=(m||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}(n),v=(m=>{const[t,...n]=m.split("");return s.indexOf(t.toLowerCase())+n.reduce((m,t)=>m+d[t],0)})(b);a=f((null===(t=a)||void 0===t?void 0:t.note)||a,4);const y=u(a),j=e[g].map(m=>("string"==typeof m?m.split(" "):m).map(l));let N,w,x=j.map((m,t)=>{const n=A[o](m),e=(0,r._mod)(y-n-v,12);return(void 0===N||e<N)&&(N=e,w=t),e});"root"===o&&(w=0);const I=12*Math.ceil(M/j.length),D=(0,r._mod)(w+M,j.length),C=j[D],T=A[o](C),S=a-x[D]+I,V=C.map(m=>S-T+m);let k=V.map(m=>function(m){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Math.floor(m/12)-1;return(t?c:i)[m%12]+n}(m));return"duck"===o&&(k=k.filter((m,t)=>V[t]!==a)),void 0!==P?[h(k,P,p)]:k}function v(m,t,n){let[e,M]=P.Scale.tokenize(m),{notes:o}=P.Scale.get("".concat(e," ").concat(M));if(o=o.map(m=>P.Note.get(m).pc),t=Number(t),isNaN(t))throw new Error('scale offset "'.concat(t,'" not a number'));const{pc:a,oct:i=3}=P.Note.get(n),s=o.indexOf(a);if(-1===s)throw new Error('note "'.concat(n,'" is not in scale "').concat(m,'"'));let c=s,d=i,u=a;const l=Math.sign(t);for(;Math.abs(c-s)<Math.abs(t);){c+=l;const m=(0,r._mod)(c,o.length);l<0&&"C"===u[0]&&(d+=l),u=o[m],l>0&&"C"===u[0]&&(d+=l)}return u+d}const{transpose:y,trans:j}=(0,r.register)(["transpose","trans"],function(m,t){return t.withHap(t=>{var n;const e=null!==(n=t.value.note)&&void 0!==n?n:t.value;if("number"==typeof e){let n;"number"==typeof m?n=m:"string"==typeof m&&(n=P.Interval.semitones(m)||0);const r=e+n;return"object"==typeof t.value?t.withValue(()=>(0,M.A)((0,M.A)({},t.value),{},{note:r})):t.withValue(()=>r)}if("string"!=typeof e||!(0,r.isNote)(e))return(0,r.logger)('[tonal] transpose: not a note "'.concat(e,'"'),"warning"),t;const o=isNaN(Number(m))?String(m):P.Interval.fromSemitones(m),a=P.Note.simplify(P.Note.transpose(e,o));return"object"==typeof t.value?t.withValue(()=>(0,M.A)((0,M.A)({},t.value),{},{note:a})):t.withValue(()=>a)})}),{scaleTranspose:N,scaleTrans:w,strans:x}=(0,r.register)(["scaleTranspose","scaleTrans","strans"],function(m,t){return t.withHap(t=>{if(!t.context.scale)throw new Error("can only use scaleTranspose after .scale");if("object"==typeof t.value)return t.withValue(()=>(0,M.A)((0,M.A)({},t.value),{},{note:v(t.context.scale,Number(m),t.value.note)}));if("string"!=typeof t.value)throw new Error("can only use scaleTranspose with notes");return t.withValue(()=>v(t.context.scale,Number(m),t.value))})}),I=(0,r.register)("scale",function(m,t){return Array.isArray(m)&&(m=m.flat().join(" ")),t.fmap(t=>{const n="object"==typeof t;let e=n?t.n:t;if(n&&delete t.n,(0,r.isNote)(e))return(0,r.pure)(e);let o=Number(e),a=0;if(isNaN(o)){if(e=String(e),!/^[-+]?\d+(#*|b*){1}$/.test(e))return(0,r.logger)('[tonal] invalid scale step "'.concat(e,'", expected number or integer with optional # b suffixes'),"error"),r.silence;const m=e.indexOf("#");if(m>=0)o=Number(e.substring(0,m)),a=e.length-m;else{const m=e.indexOf("b");o=Number(e.substring(0,m)),a=m-e.length}}try{let e;e=n&&t.anchor?b(o,m,t.anchor):function(m,t){t=t.replaceAll(":"," "),m=Math.ceil(m);let{intervals:n,tonic:e,empty:M}=P.Scale.get(t);if(M&&(0,r.isNote)(t)||M&&!e)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(M)throw new Error('invalid scale "'.concat(t,'"'));e=e||"C";const{pc:o,oct:a=3}=P.Note.get(e),i=Math.floor(m/n.length),s=(0,r._mod)(m,n.length),c=P.Interval.add(n[s],(m=>(m<=0?-1:1)+7*m+"P")(i));return P.Note.transpose(o+a,c)}(o,m),0!=a&&(e=P.Note.transpose(e,P.Interval.fromSemitones(a))),t=(0,r.pure)(n?(0,M.A)((0,M.A)({},t),{},{note:e}):e)}catch(i){(0,r.logger)("[tonal] ".concat(i.message),"error"),t=r.silence}return t}).outerJoin().withHap(t=>t.setContext((0,M.A)((0,M.A)({},t.context),{},{scale:m})))},!0,!0),D={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},C={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:T,minTopNoteDiff:S}=o.default||o,V={lefthand:{dictionary:{m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},mode:"below",anchor:"a4"},guidetones:{dictionary:{m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},mode:"above",anchor:"a4"},legacy:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},mode:"below",anchor:"a4"}};let k="ireal";const q=m=>k=m,O=(m,t)=>E(m,V[m].dictionary,t),E=function(m,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["F3","A4"];Object.assign(V,{[m]:{dictionary:t,range:n}})},F=function(m,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(V,{[m]:(0,M.A)({dictionary:t},n)})};let $;const _=(0,r.register)("voicings",function(m,t){return t.fmap(t=>($=((m,t,n)=>{const{dictionary:e,range:M}=V[t];return T({chord:m,dictionary:e,range:M,picker:S,lastVoicing:n})})(t,m,$),(0,r.stack)(...$))).outerJoin()}),z=(0,r.register)("rootNotes",function(m,t){return t.fmap(t=>{const n=(t.chord||t).match(/^([a-gA-G][b#]?).*$/)[1]+m;return t.chord?{note:n}:n})}),R=(0,r.register)("voicing",function(m){return m.fmap(m=>{m="string"==typeof m?{chord:m}:m;let{dictionary:t=k,chord:n,anchor:P,offset:o,mode:i,n:s,octaves:c}=m,d=(0,e.A)(m,a);t="string"==typeof t?V[t]:{dictionary:t,mode:"below",anchor:"c5"};try{let m=g((0,M.A)((0,M.A)({},t),{},{chord:n,anchor:P,offset:o,mode:i,n:s,octaves:c}));return(0,r.stack)(...m).note().set(d)}catch(u){return(0,r.logger)('[voicing]: unknown chord "'.concat(n,'"')),r.silence}}).outerJoin()});function G(m,t,n){(n=Array.isArray(n)?n:[n]).forEach(n=>{n[t]=n[m]})}function B(){$=void 0,q("ireal")}G("^","",[D,C]),Object.keys(D).forEach(m=>{if(m.includes("-")){let t=m.replace("-","m");G(m,t,[C,D])}if(m.includes("^")){let t=m.replace("^","M");G(m,t,[C,D])}if(m.includes("+")){let t=m.replace("+","aug");G(m,t,[C,D])}}),F("ireal",D),F("ireal-ext",C);const U="@strudel/tonal"},3317:(m,t)=>{t.__esModule=!0,t.getBestVoicing=void 0,t.getBestVoicing=function(m){var t=m.chord,n=m.range,e=m.finder,M=m.picker,P=m.lastVoicing,r=e(t,n);return r.length?M(r,P):[]}},6468:(m,t,n)=>{t.__esModule=!0;var e=n(9905),M=n(7334),P=n(3317),r=n(741);t.default={tokenizeChord:r.tokenizeChord,getBestVoicing:P.getBestVoicing,dictionaryVoicing:e.dictionaryVoicing,dictionaryVoicingFinder:e.dictionaryVoicingFinder,lefthand:e.lefthand,guidetones:e.guidetones,triads:e.triads,minTopNoteDiff:M.minTopNoteDiff}},7334:(m,t,n)=>{t.__esModule=!0,t.minTopNoteDiff=void 0;var e=n(7501);t.minTopNoteDiff=function(m,t){if(!t)return m[0];var n=function(m){return Math.abs(e.Note.midi(t[t.length-1])-e.Note.midi(m[m.length-1]))};return m.reduce(function(m,t){return n(t)<n(m)?t:m},m[0])}},7501:(m,t,n)=>{n.r(t),n.d(t,{AbcNotation:()=>_,Array:()=>e,Chord:()=>Ut,ChordDictionary:()=>xM,ChordType:()=>Dt,Collection:()=>X,Core:()=>M,DurationValue:()=>Wt,Interval:()=>nn,Key:()=>de,Midi:()=>hn,Mode:()=>$e,Note:()=>Tn,PcSet:()=>wM,Pcset:()=>gm,Progression:()=>eM,Range:()=>PM,RomanNumeral:()=>Qn,Scale:()=>hM,ScaleDictionary:()=>IM,ScaleType:()=>_t,TimeSignature:()=>yM,Tonal:()=>NM,accToAlt:()=>rt,altToAcc:()=>Pt,chroma:()=>Fm,coordToInterval:()=>mt,coordToNote:()=>st,coordinates:()=>Bm,deprecate:()=>pt,distance:()=>ft,fillStr:()=>ht,height:()=>$m,interval:()=>Xm,isNamed:()=>bt,isNamedPitch:()=>Om,isPitch:()=>zm,midi:()=>_m,note:()=>ot,pitch:()=>Lm,stepToLetter:()=>Mt,tokenizeInterval:()=>Wm,tokenizeNote:()=>it,tonicIntervalsTransposer:()=>lt,transpose:()=>ut});var e={};n.r(e),n.d(e,{compact:()=>G,permutations:()=>J,range:()=>z,rotate:()=>R,shuffle:()=>L,sortedNoteNames:()=>B,sortedUniqNoteNames:()=>U});var M={};n.r(M),n.d(M,{accToAlt:()=>rt,altToAcc:()=>Pt,chroma:()=>Fm,coordToInterval:()=>mt,coordToNote:()=>st,coordinates:()=>Bm,deprecate:()=>pt,distance:()=>ft,fillStr:()=>ht,height:()=>$m,interval:()=>Xm,isNamed:()=>bt,isNamedPitch:()=>Om,isPitch:()=>zm,midi:()=>_m,note:()=>ot,pitch:()=>Lm,stepToLetter:()=>Mt,tokenizeInterval:()=>Wm,tokenizeNote:()=>it,tonicIntervalsTransposer:()=>lt,transpose:()=>ut});var P=[0,2,4,-1,1,3,5],r=P.map(m=>Math.floor(7*m/12));var o=[3,0,4,1,5,2,6];var a=(m,t)=>Array(Math.abs(t)+1).join(m),i=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),s=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var c={};function d(m){return"string"===typeof m?c[m]||(c[m]=function(m){const t=function(m){const t=s.exec("".concat(m));return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return i;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,o=l[M];if("M"===o&&"P"===e)return i;const a="M"===o?"majorable":"perfectable",c=""+n+e,d=n<0?-1:1,f=8===n||-8===n?n:d*(M+1),h=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(a,e),p=Math.floor((Math.abs(n)-1)/7),b=d*(u[M]+h+12*p),A=(d*(u[M]+h)%12+12)%12,g=function(m){const{step:t,alt:n,oct:e,dir:M=1}=m,o=P[t]+7*n;return void 0===e?[M*o]:[M*o,M*(e-r[t]-4*n)]}({step:M,alt:h,oct:p,dir:d});return{empty:!1,name:c,num:n,q:e,step:M,alt:h,dir:d,type:a,simple:f,semitones:b,chroma:A,coord:g,oct:p}}(m)):null!==(t=m)&&"object"===typeof t&&"step"in t&&"number"===typeof t.step&&"alt"in t&&"number"===typeof t.alt&&!isNaN(t.step)&&!isNaN(t.alt)?d(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",i="M"===l[t]?"majorable":"perfectable",s=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?a("A",t):a("d","perfectable"===m?t:t+1)}(i,n);return s}(m)):function(m){return null!==m&&"object"===typeof m&&"name"in m&&"string"===typeof m.name}(m)?d(m.name):i;var t}var u=[0,2,4,5,7,9,11],l="PMMPPMM";function f(m,t){const[n,e=0]=m;return d(function(m){const[t,n,e]=m,M=o[function(m){const t=(m+1)%7;return t<0?7+t:t}(t)],P=Math.floor((t+1)/7);return void 0===n?{step:M,alt:P,dir:e}:{step:M,alt:P,oct:n+4*P+r[M],dir:e}}(t||7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}var h=[0,2,4,-1,1,3,5],p=h.map(m=>Math.floor(7*m/12));var b=[3,0,4,1,5,2,6];var A=(m,t)=>Array(Math.abs(t)+1).join(m),g=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),v=new Map,y=m=>"CDEFGAB".charAt(m),j=m=>m<0?A("b",-m):A("#",m),N=m=>"b"===m[0]?-m.length:m.length;function w(m){const t=JSON.stringify(m),n=v.get(t);if(n)return n;const e="string"===typeof m?function(m){const t=I(m);if(""===t[0]||""!==t[3])return g;const n=t[0],e=t[1],M=t[2],P=(n.charCodeAt(0)+3)%7,r=N(e),o=M.length?+M:void 0,a=function(m){const{step:t,alt:n,oct:e,dir:M=1}=m,P=h[t]+7*n;return void 0===e?[M*P]:[M*P,M*(e-p[t]-4*n)]}({step:P,alt:r,oct:o}),i=n+e+M,s=n+e,c=(T[P]+r+120)%12,d=void 0===o?C(T[P]+r,12)-1188:T[P]+r+12*(o+1),u=d>=0&&d<=127?d:null,l=void 0===o?null:440*Math.pow(2,(d-69)/12);return{empty:!1,acc:e,alt:r,chroma:c,coord:a,freq:l,height:d,letter:n,midi:u,name:i,oct:o,pc:s,step:P}}(m):null!==(M=m)&&"object"===typeof M&&"step"in M&&"number"===typeof M.step&&"alt"in M&&"number"===typeof M.alt&&!isNaN(M.step)&&!isNaN(M.alt)?w(function(m){const{step:t,alt:n,oct:e}=m,M=y(t);if(!M)return"";const P=M+j(n);return e||0===e?P+e:P}(m)):function(m){return null!==m&&"object"===typeof m&&"name"in m&&"string"===typeof m.name}(m)?w(m.name):g;var M;return v.set(t,e),e}var x=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function I(m){const t=x.exec(m);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function D(m){return w(function(m){const[t,n,e]=m,M=b[function(m){const t=(m+1)%7;return t<0?7+t:t}(t)],P=Math.floor((t+1)/7);return void 0===n?{step:M,alt:P,dir:e}:{step:M,alt:P,oct:n+4*P+p[M],dir:e}}(m))}var C=(m,t)=>(m%t+t)%t,T=[0,2,4,5,7,9,11];function S(m,t){const n=w(m),e=Array.isArray(t)?t:d(t).coord;if(n.empty||!e||e.length<2)return"";const M=n.coord;return D(1===M.length?[M[0]+e[0]]:[M[0]+e[0],M[1]+e[1]]).name}function V(m,t){const n=m.length;return e=>{if(!t)return"";const M=e<0?(n- -e%n)%n:e%n,P=Math.floor(e/n),r=S(t,[0,P]);return S(r,m[M])}}function k(m,t){const n=w(m),e=w(t);if(n.empty||e.empty)return"";const M=n.coord,P=e.coord,r=P[0]-M[0];return f([r,2===M.length&&2===P.length?P[1]-M[1]:-Math.floor(7*r/12)],e.height===n.height&&null!==e.midi&&n.oct===e.oct&&n.step>e.step).name}var q=(m,t)=>Array(t+1).join(m),O=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function E(m){const t=O.exec(m);return t?[t[1],t[2],t[3]]:["","",""]}function F(m){const[t,n,e]=E(m);if(""===n)return"";let M=4;for(let r=0;r<e.length;r++)M+=","===e.charAt(r)?-1:1;const P="_"===t[0]?t.replace(/_/g,"b"):"^"===t[0]?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+P+(M+1):n+P+M}function $(m){const t=w(m);if(t.empty||!t.oct&&0!==t.oct)return"";const{letter:n,acc:e,oct:M}=t;return("b"===e[0]?e.replace(/b/g,"_"):e.replace(/#/g,"^"))+(M>4?n.toLowerCase():n)+(5===M?"":M>4?q("'",M-5):q(",",4-M))}var _={abcToScientificNotation:F,scientificToAbcNotation:$,tokenize:E,transpose:function(m,t){return $(S(F(m),t))},distance:function(m,t){return k(F(m),F(t))}};function z(m,t){return m<t?function(m,t){const n=[];for(;t--;n[t]=t+m);return n}(m,t-m+1):function(m,t){const n=[];for(;t--;n[t]=m-t);return n}(m,m-t+1)}function R(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function G(m){return m.filter(m=>0===m||m)}function B(m){return m.map(m=>w(m)).filter(m=>!m.empty).sort((m,t)=>m.height-t.height).map(m=>m.name)}function U(m){return B(m).filter((m,t,n)=>0===t||m!==n[t-1])}function L(m){let t,n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random,M=m.length;for(;M;)t=Math.floor(e()*M--),n=m[M],m[M]=m[t],m[t]=n;return m}function J(m){return 0===m.length?[[]]:J(m.slice(1)).reduce((t,n)=>t.concat(m.map((t,e)=>{const M=n.slice();return M.splice(e,0,m[0]),M})),[])}var H=n(9379);function K(m,t){return m<t?function(m,t){const n=[];for(;t--;n[t]=t+m);return n}(m,t-m+1):function(m,t){const n=[];for(;t--;n[t]=m-t);return n}(m,m-t+1)}function W(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function Q(m){return m.filter(m=>0===m||m)}var X={compact:Q,permutations:function m(t){return 0===t.length?[[]]:m(t.slice(1)).reduce((m,n)=>m.concat(t.map((m,e)=>{const M=n.slice();return M.splice(e,0,t[0]),M})),[])},range:K,rotate:W,shuffle:function(m){let t,n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random,M=m.length;for(;M;)t=Math.floor(e()*M--),n=m[M],m[M]=m[t],m[t]=n;return m}};var Y=[0,2,4,-1,1,3,5],Z=Y.map(m=>Math.floor(7*m/12));var mm=(m,t)=>Array(Math.abs(t)+1).join(m),tm=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),nm=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var em={};function Mm(m){return"string"===typeof m?em[m]||(em[m]=function(m){const t=function(m){const t=nm.exec("".concat(m));return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return tm;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=rm[M];if("M"===P&&"P"===e)return tm;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,i=8===n||-8===n?n:a*(M+1),s=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),c=Math.floor((Math.abs(n)-1)/7),d=a*(Pm[M]+s+12*c),u=(a*(Pm[M]+s)%12+12)%12,l=function(m){const{step:t,alt:n,oct:e,dir:M=1}=m,P=Y[t]+7*n;return void 0===e?[M*P]:[M*P,M*(e-Z[t]-4*n)]}({step:M,alt:s,oct:c,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:s,dir:a,type:r,simple:i,semitones:d,chroma:u,coord:l,oct:c}}(m)):null!==(t=m)&&"object"===typeof t&&"step"in t&&"number"===typeof t.step&&"alt"in t&&"number"===typeof t.alt&&!isNaN(t.step)&&!isNaN(t.alt)?Mm(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===rm[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?mm("A",t):mm("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):function(m){return null!==m&&"object"===typeof m&&"name"in m&&"string"===typeof m.name}(m)?Mm(m.name):tm;var t}var Pm=[0,2,4,5,7,9,11],rm="PMMPPMM";var om={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},am=m=>Number(m).toString(2).padStart(12,"0"),im=m=>parseInt(m,2),sm=/^[01]{12}$/;function cm(m){return sm.test(m)}var dm={[om.chroma]:om};function um(m){const t=cm(m)?m:"number"===typeof(n=m)&&n>=0&&n<=4095?am(m):Array.isArray(m)?function(m){if(0===m.length)return om.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let e=0;e<m.length;e++)t=w(m[e]),t.empty&&(t=Mm(m[e])),t.empty||(n[t.chroma]=1);return n.join("")}(m):(m=>m&&cm(m.chroma))(m)?m.chroma:om.chroma;var n;return dm[t]=dm[t]||function(m){const t=im(m),n=function(m){const t=m.split("");return t.map((m,n)=>W(n,t).join(""))}(m).map(im).filter(m=>m>=2048).sort()[0],e=am(n),M=function(m){const t=[];for(let n=0;n<12;n++)"1"===m.charAt(n)&&t.push(fm[n]);return t}(m);return{empty:!1,name:"",setNum:t,chroma:m,normalized:e,intervals:M}}(t)}var lm=m=>um(m).chroma,fm=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function hm(m){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=um(m).chroma.split("");return Q(n.map((m,e)=>{const M=W(e,n);return t&&"0"===M[0]?null:M.join("")}))}function pm(m){const t=um(m).setNum;return m=>{const n=um(m).setNum;return t&&t!==n&&(n&t)===n}}function bm(m){const t=um(m).setNum;return m=>{const n=um(m).setNum;return t&&t!==n&&(n|t)===n}}function Am(m){const t=um(m);return m=>{const n=w(m);return t&&!n.empty&&"1"===t.chroma.charAt(n.chroma)}}var gm={get:um,chroma:lm,num:m=>um(m).setNum,intervals:m=>um(m).intervals,chromas:function(){return K(2048,4095).map(am)},isSupersetOf:bm,isSubsetOf:pm,isNoteIncludedIn:Am,isEqual:function(m,t){return um(m).setNum===um(t).setNum},filter:function(m){const t=Am(m);return m=>m.filter(t)},modes:hm,notes:function(m){return um(m).intervals.map(m=>S("C",m))},pcset:um};var vm=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 \u0394 ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 \u03949 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 \u0394#4 \u0394#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -\u03947 m\u0394 -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim \xb0 o"],["1P 3m 5d 7d","diminished seventh","dim7 \xb07 o7"],["1P 3m 5d 7m","half-diminished","m7b5 \xf8 -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 \u03949#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],ym=((0,H.A)((0,H.A)({},om),{},{name:"",quality:"Unknown",intervals:[],aliases:[]}),[]),jm={};function Nm(){return ym.slice()}function wm(m,t,n){const e=function(m){const t=t=>-1!==m.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(m),M=(0,H.A)((0,H.A)({},um(m)),{},{name:n||"",quality:e,intervals:m,aliases:t});ym.push(M),M.name&&(jm[M.name]=M),jm[M.setNum]=M,jm[M.chroma]=M,M.aliases.forEach(m=>function(m,t){jm[t]=m}(M,m))}vm.forEach(m=>{let[t,n,e]=m;return wm(t.split(" "),e.split(" "),n)}),ym.sort((m,t)=>m.setNum-t.setNum);function xm(m){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=m.map(m=>w(m).pc).filter(m=>m);if(0===w.length)return[];const e=function(m,t,n){const e=m[0],M=w(e).chroma,P=(m=>{const t=m.reduce((m,t)=>{const n=w(t).chroma;return void 0!==n&&(m[n]=m[n]||w(t).name),m},{});return m=>t[m]})(m),r=hm(m,!1),o=[];return r.forEach((m,r)=>{const a=n.assumePerfectFifth&&function(m){const t=parseInt(m,2);return qm(t)?m:(16|t).toString(2)}(m),i=Nm().filter(t=>n.assumePerfectFifth&&function(m){const t=parseInt(m.chroma,2);return Sm(t)&&Vm(t)&&km(t)}(t)?t.chroma===a:t.chroma===m);i.forEach(m=>{const n=m.aliases[0],a=P(r);r!==M?o.push({weight:.5*t,name:"".concat(a).concat(n,"/").concat(e)}):o.push({weight:1*t,name:"".concat(a).concat(n)})})}),o}(n,1,t);return e.filter(m=>m.weight).sort((m,t)=>t.weight-m.weight).map(m=>m.name)}var Im=16,Dm=40,Cm=3,Tm=m=>t=>Boolean(t&m),Sm=Tm(384),Vm=Tm(Im),km=Tm(Cm),qm=Tm(Dm);function Om(m){return null!==m&&"object"===typeof m&&"name"in m&&"string"===typeof m.name}var Em=[0,2,4,5,7,9,11],Fm=m=>{let{step:t,alt:n}=m;return(Em[t]+n+120)%12},$m=m=>{let{step:t,alt:n,oct:e,dir:M=1}=m;return M*(Em[t]+n+12*(void 0===e?-100:e))},_m=m=>{const t=$m(m);return void 0!==m.oct&&t>=-12&&t<=115?t+12:null};function zm(m){return null!==m&&"object"===typeof m&&"step"in m&&"number"===typeof m.step&&"alt"in m&&"number"===typeof m.alt}var Rm=[0,2,4,-1,1,3,5],Gm=Rm.map(m=>Math.floor(7*m/12));function Bm(m){const{step:t,alt:n,oct:e,dir:M=1}=m,P=Rm[t]+7*n;if(void 0===e)return[M*P];return[M*P,M*(e-Gm[t]-4*n)]}var Um=[3,0,4,1,5,2,6];function Lm(m){const[t,n,e]=m,M=Um[function(m){const t=(m+1)%7;return t<0?7+t:t}(t)],P=Math.floor((t+1)/7);if(void 0===n)return{step:M,alt:P,dir:e};return{step:M,alt:P,oct:n+4*P+Gm[M],dir:e}}var Jm=(m,t)=>Array(Math.abs(t)+1).join(m),Hm={empty:!0,name:"",acc:""},Km=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");function Wm(m){const t=Km.exec("".concat(m));return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var Qm={};function Xm(m){return"string"===typeof m?Qm[m]||(Qm[m]=function(m){const t=Wm(m);if(""===t[0])return Hm;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=Zm[M];if("M"===P&&"P"===e)return Hm;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,i=8===n||-8===n?n:a*(M+1),s=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),c=Math.floor((Math.abs(n)-1)/7),d=a*(Ym[M]+s+12*c),u=(a*(Ym[M]+s)%12+12)%12,l=Bm({step:M,alt:s,oct:c,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:s,dir:a,type:r,simple:i,semitones:d,chroma:u,coord:l,oct:c}}(m)):zm(m)?Xm(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===Zm[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?Jm("A",t):Jm("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):Om(m)?Xm(m.name):Hm}var Ym=[0,2,4,5,7,9,11],Zm="PMMPPMM";function mt(m,t){const[n,e=0]=m;return Xm(Lm(t||7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}var tt=(m,t)=>Array(Math.abs(t)+1).join(m),nt={empty:!0,name:"",pc:"",acc:""},et=new Map,Mt=m=>"CDEFGAB".charAt(m),Pt=m=>m<0?tt("b",-m):tt("#",m),rt=m=>"b"===m[0]?-m.length:m.length;function ot(m){const t=JSON.stringify(m),n=et.get(t);if(n)return n;const e="string"===typeof m?function(m){const t=it(m);if(""===t[0]||""!==t[3])return nt;const n=t[0],e=t[1],M=t[2],P=(n.charCodeAt(0)+3)%7,r=rt(e),o=M.length?+M:void 0,a=Bm({step:P,alt:r,oct:o}),i=n+e+M,s=n+e,c=(dt[P]+r+120)%12,d=void 0===o?ct(dt[P]+r,12)-1188:dt[P]+r+12*(o+1),u=d>=0&&d<=127?d:null,l=void 0===o?null:440*Math.pow(2,(d-69)/12);return{empty:!1,acc:e,alt:r,chroma:c,coord:a,freq:l,height:d,letter:n,midi:u,name:i,oct:o,pc:s,step:P}}(m):zm(m)?ot(function(m){const{step:t,alt:n,oct:e}=m,M=Mt(t);if(!M)return"";const P=M+Pt(n);return e||0===e?P+e:P}(m)):Om(m)?ot(m.name):nt;return et.set(t,e),e}var at=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function it(m){const t=at.exec(m);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function st(m){return ot(Lm(m))}var ct=(m,t)=>(m%t+t)%t,dt=[0,2,4,5,7,9,11];function ut(m,t){const n=ot(m),e=Array.isArray(t)?t:Xm(t).coord;if(n.empty||!e||e.length<2)return"";const M=n.coord;return st(1===M.length?[M[0]+e[0]]:[M[0]+e[0],M[1]+e[1]]).name}function lt(m,t){const n=m.length;return e=>{if(!t)return"";const M=e<0?(n- -e%n)%n:e%n,P=Math.floor(e/n),r=ut(t,[0,P]);return ut(r,m[M])}}function ft(m,t){const n=ot(m),e=ot(t);if(n.empty||e.empty)return"";const M=n.coord,P=e.coord,r=P[0]-M[0];return mt([r,2===M.length&&2===P.length?P[1]-M[1]:-Math.floor(7*r/12)],e.height===n.height&&null!==e.midi&&null!==n.midi&&n.step>e.step).name}var ht=(m,t)=>Array(Math.abs(t)+1).join(m);function pt(m,t,n){return function(){console.warn("".concat(m," is deprecated. Use ").concat(t,"."));for(var e=arguments.length,M=new Array(e),P=0;P<e;P++)M[P]=arguments[P];return n.apply(this,M)}}var bt=pt("isNamed","isNamedPitch",Om),At=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 \u0394 ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 \u03949 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 \u0394#4 \u0394#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -\u03947 m\u0394 -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim \xb0 o"],["1P 3m 5d 7d","diminished seventh","dim7 \xb07 o7"],["1P 3m 5d 7m","half-diminished","m7b5 \xf8 -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 \u03949#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],gt=(0,H.A)((0,H.A)({},om),{},{name:"",quality:"Unknown",intervals:[],aliases:[]}),vt=[],yt={};function jt(m){return yt[m]||gt}var Nt=pt("ChordType.chordType","ChordType.get",jt);function wt(){return vt.slice()}var xt=pt("ChordType.entries","ChordType.all",wt);function It(m,t,n){const e=function(m){const t=t=>-1!==m.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(m),M=(0,H.A)((0,H.A)({},um(m)),{},{name:n||"",quality:e,intervals:m,aliases:t});vt.push(M),M.name&&(yt[M.name]=M),yt[M.setNum]=M,yt[M.chroma]=M,M.aliases.forEach(m=>function(m,t){yt[t]=m}(M,m))}At.forEach(m=>{let[t,n,e]=m;return It(t.split(" "),e.split(" "),n)}),vt.sort((m,t)=>m.setNum-t.setNum);var Dt={names:function(){return vt.map(m=>m.name).filter(m=>m)},symbols:function(){return vt.map(m=>m.aliases[0]).filter(m=>m)},get:jt,all:wt,add:It,removeAll:function(){vt=[],yt={}},keys:function(){return Object.keys(yt)},entries:xt,chordType:Nt},Ct=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],Tt=(0,H.A)((0,H.A)({},om),{},{intervals:[],aliases:[]}),St=[],Vt={};function kt(){return St.map(m=>m.name)}function qt(m){return Vt[m]||Tt}var Ot=qt;function Et(){return St.slice()}var Ft=Et;function $t(m,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const e=(0,H.A)((0,H.A)({},um(m)),{},{name:t,intervals:m,aliases:n});return St.push(e),Vt[e.name]=e,Vt[e.setNum]=e,Vt[e.chroma]=e,e.aliases.forEach(m=>function(m,t){Vt[t]=m}(e,m)),e}Ct.forEach(m=>{let[t,n,...e]=m;return $t(t.split(" "),n,e)});var _t={names:kt,get:qt,all:Et,add:$t,removeAll:function(){St=[],Vt={}},keys:function(){return Object.keys(Vt)},entries:Ft,scaleType:Ot},zt={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Rt(m){const[t,n,e,M]=it(m);return""===t?["",m]:"A"===t&&"ug"===M?["","aug"]:[t+n,e+M]}function Gt(m){if(""===m)return zt;if(Array.isArray(m)&&2===m.length)return Bt(m[1],m[0]);{const[t,n]=Rt(m),e=Bt(n,t);return e.empty?Bt(m):e}}function Bt(m,t,n){const e=jt(m),M=ot(t||""),P=ot(n||"");if(e.empty||t&&M.empty||n&&P.empty)return zt;const r=ft(M.pc,P.pc),o=e.intervals.indexOf(r)+1;if(!P.empty&&!o)return zt;const a=Array.from(e.intervals);for(let d=1;d<o;d++){const m=a[0][0],t=a[0][1],n=parseInt(m,10)+7;a.push("".concat(n).concat(t)),a.shift()}const i=M.empty?[]:a.map(m=>ut(M,m));m=-1!==e.aliases.indexOf(m)?m:e.aliases[0];const s="".concat(M.empty?"":M.pc).concat(m).concat(P.empty||o<=1?"":"/"+P.pc),c="".concat(t?M.pc+" ":"").concat(e.name).concat(o>1&&n?" over "+P.pc:"");return(0,H.A)((0,H.A)({},e),{},{name:c,symbol:s,type:e.name,root:P.name,intervals:a,rootDegree:o,tonic:M.name,notes:i})}var Ut={getChord:Bt,get:Gt,detect:xm,chordScales:function(m){const t=bm(Gt(m).chroma);return Et().filter(m=>t(m.chroma)).map(m=>m.name)},extended:function(m){const t=Gt(m),n=bm(t.chroma);return wt().filter(m=>n(m.chroma)).map(m=>t.tonic+m.aliases[0])},reduced:function(m){const t=Gt(m),n=pm(t.chroma);return wt().filter(m=>n(m.chroma)).map(m=>t.tonic+m.aliases[0])},tokenize:Rt,transpose:function(m,t){const[n,e]=Rt(m);return n?ut(n,t)+e:m},degrees:function(m){const{intervals:t,tonic:n}=Gt(m),e=lt(t,n);return m=>m?e(m>0?m-1:m):""},steps:function(m){const{intervals:t,tonic:n}=Gt(m);return lt(t,n)},chord:pt("Chord.chord","Chord.get",Gt)},Lt=[];[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]].forEach(m=>{let[t,n,e]=m;return function(m,t,n){Lt.push({empty:!1,dots:"",name:"",value:1/m,fraction:m<1?[1/m,1]:[1,m],shorthand:t,names:n})}(t,n,e)});var Jt={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};var Ht=/^([^.]+)(\.*)$/;function Kt(m){const[t,n,e]=Ht.exec(m)||[],M=Lt.find(m=>m.shorthand===n||m.names.includes(n));if(!M)return Jt;const P=function(m,t){const n=Math.pow(2,t);let e=m[0]*n,M=m[1]*n;const P=e;for(let r=0;r<t;r++)e+=P/Math.pow(2,r+1);for(;e%2===0&&M%2===0;)e/=2,M/=2;return[e,M]}(M.fraction,e.length),r=P[0]/P[1];return(0,H.A)((0,H.A)({},M),{},{name:m,dots:e,value:r,fraction:P})}var Wt={names:function(){return Lt.reduce((m,t)=>(t.names.forEach(t=>m.push(t)),m),[])},shorthands:function(){return Lt.map(m=>m.shorthand)},get:Kt,value:m=>Kt(m).value,fraction:m=>Kt(m).fraction};var Qt=Xm;var Xt=[1,2,2,3,3,4,5,5,6,6,7,7],Yt="P m M m M P d P m M m M".split(" ");var Zt=k,mn=en((m,t)=>[m[0]+t[0],m[1]+t[1]]),tn=en((m,t)=>[m[0]-t[0],m[1]-t[1]]);var nn={names:function(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")},get:Qt,name:m=>Xm(m).name,num:m=>Xm(m).num,semitones:m=>Xm(m).semitones,quality:m=>Xm(m).q,fromSemitones:function(m){const t=m<0?-1:1,n=Math.abs(m),e=n%12,M=Math.floor(n/12);return t*(Xt[e]+7*M)+Yt[e]},distance:Zt,invert:function(m){const t=Xm(m);return t.empty?"":Xm({step:(7-t.step)%7,alt:"perfectable"===t.type?-t.alt:-(t.alt+1),oct:t.oct,dir:t.dir}).name},simplify:function(m){const t=Xm(m);return t.empty?"":t.simple+t.q},add:mn,addTo:m=>t=>mn(m,t),substract:tn,transposeFifths:function(m,t){const n=Qt(m);if(n.empty)return"";const[e,M,P]=n.coord;return mt([e+t,M,P]).name}};function en(m){return(t,n)=>{const e=Xm(t).coord,M=Xm(n).coord;if(e&&M){return mt(m(e,M)).name}}}function Mn(m){return+m>=0&&+m<=127}function Pn(m){if(Mn(m))return+m;const t=w(m);return t.empty?null:t.midi}var rn=Math.log(2),on=Math.log(440);function an(m){const t=12*(Math.log(m)-on)/rn+69;return Math.round(100*t)/100}var sn="C C# D D# E F F# G G# A A# B".split(" "),cn="C Db D Eb E F Gb G Ab A Bb B".split(" ");function dn(m){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(isNaN(m)||m===-1/0||m===1/0)return"";m=Math.round(m);const n=(!0===t.sharps?sn:cn)[m%12];if(t.pitchClass)return n;return n+(Math.floor(m/12)-1)}function un(m){return m%12}function ln(m){return Array.isArray(m)?function(m){return m.map(un).sort((m,t)=>m-t).filter((m,t,n)=>0===t||m!==n[t-1])}(m):m.split("").reduce((m,t,n)=>(n<12&&"1"===t&&m.push(n),m),[])}function fn(m,t){const n=ln(m),e=n.length;return m=>{const M=m<0?(e- -m%e)%e:m%e,P=Math.floor(m/e);return n[M]+12*P+t}}var hn={chroma:un,freqToMidi:an,isMidi:Mn,midiToFreq:function(m){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:440;return Math.pow(2,(m-69)/12)*t},midiToNoteName:dn,pcsetNearest:function(m){const t=ln(m);return m=>{const n=un(m);for(let e=0;e<12;e++){if(t.includes(n+e))return m+e;if(t.includes(n-e))return m-e}}},pcset:ln,pcsetDegrees:function(m,t){const n=fn(m,t);return m=>{if(0!==m)return n(m>0?m-1:m)}},pcsetSteps:fn,toMidi:Pn},pn=["C","D","E","F","G","A","B"],bn=m=>m.name,An=m=>m.map(w).filter(m=>!m.empty);var gn=w;function vn(m){return dn(m)}var yn=S,jn=m=>t=>yn(t,m),Nn=m=>t=>yn(m,t);function wn(m,t){return yn(m,[t,0])}var xn=(m,t)=>m.height-t.height;function In(m,t){return t=t||xn,An(m).sort(t).map(bn)}function Dn(m){return In(m,xn).filter((m,t,n)=>0===t||m!==n[t-1])}function Cn(m,t){const n=gn(m);if(n.empty)return"";const e=gn(t||dn(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(e.empty||e.chroma!==n.chroma)return"";if(void 0===n.oct)return e.pc;const M=n.chroma-n.alt,P=e.chroma-e.alt,r=M>11||P<0?-1:M<0||P>11?1:0,o=n.oct+r;return e.pc+o}var Tn={names:function(m){return void 0===m?pn.slice():Array.isArray(m)?An(m).map(bn):[]},get:gn,name:m=>gn(m).name,pitchClass:m=>gn(m).pc,accidentals:m=>gn(m).acc,octave:m=>gn(m).oct,midi:m=>gn(m).midi,ascending:xn,descending:(m,t)=>t.height-m.height,distance:k,sortedNames:In,sortedUniqNames:Dn,fromMidi:vn,fromMidiSharps:function(m){return dn(m,{sharps:!0})},freq:m=>gn(m).freq,fromFreq:function(m){return dn(an(m))},fromFreqSharps:function(m){return dn(an(m),{sharps:!0})},chroma:m=>gn(m).chroma,transpose:yn,tr:S,transposeBy:jn,trBy:jn,transposeFrom:Nn,trFrom:Nn,transposeFifths:wn,transposeOctaves:function(m,t){return yn(m,[0,t])},trFifths:wn,simplify:m=>{const t=gn(m);return t.empty?"":dn(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:null===t.midi})},enharmonic:Cn};function Sn(m){return null!==m&&"object"===typeof m&&"name"in m&&"string"===typeof m.name}function Vn(m){return null!==m&&"object"===typeof m&&"step"in m&&"number"===typeof m.step&&"alt"in m&&"number"===typeof m.alt&&!isNaN(m.step)&&!isNaN(m.alt)}var kn=[0,2,4,-1,1,3,5],qn=kn.map(m=>Math.floor(7*m/12));var On=(m,t)=>Array(Math.abs(t)+1).join(m),En=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Fn=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var $n={};function _n(m){return"string"===typeof m?$n[m]||($n[m]=function(m){const t=function(m){const t=Fn.exec("".concat(m));return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return En;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=Rn[M];if("M"===P&&"P"===e)return En;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,i=8===n||-8===n?n:a*(M+1),s=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),c=Math.floor((Math.abs(n)-1)/7),d=a*(zn[M]+s+12*c),u=(a*(zn[M]+s)%12+12)%12,l=function(m){const{step:t,alt:n,oct:e,dir:M=1}=m,P=kn[t]+7*n;return void 0===e?[M*P]:[M*P,M*(e-qn[t]-4*n)]}({step:M,alt:s,oct:c,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:s,dir:a,type:r,simple:i,semitones:d,chroma:u,coord:l,oct:c}}(m)):Vn(m)?_n(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===Rn[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?On("A",t):On("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):Sn(m)?_n(m.name):En}var zn=[0,2,4,5,7,9,11],Rn="PMMPPMM";var Gn={empty:!0,name:"",chordType:""},Bn={};function Un(m){return"string"===typeof m?Bn[m]||(Bn[m]=function(m){const[t,n,e,M]=(P=m,Jn.exec(P)||["","","",""]);var P;if(!e)return Gn;const r=e.toUpperCase(),o=Kn.indexOf(r),a=N(n),i=1;return{empty:!1,name:t,roman:e,interval:_n({step:o,alt:a,dir:i}).name,acc:n,chordType:M,alt:a,step:o,major:e===r,oct:0,dir:i}}(m)):"number"===typeof m?Un(Kn[m]||""):Vn(m)?function(m){return Un(j(m.alt)+Kn[m.step])}(m):Sn(m)?Un(m.name):Gn}var Ln=Un;var Jn=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;var Hn="I II III IV V VI VII",Kn=Hn.split(" "),Wn=Hn.toLowerCase().split(" ");var Qn={names:function(){return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?Kn:Wn).slice()},get:Un,romanNumeral:Ln},Xn=Object.freeze([]),Yn={type:"major",tonic:"",alteration:0,keySignature:""},Zn={tonic:"",grades:Xn,intervals:Xn,scale:Xn,triads:Xn,chords:Xn,chordsHarmonicFunction:Xn,chordScales:Xn,secondaryDominants:Xn,secondaryDominantSupertonics:Xn,substituteDominantsMinorRelative:Xn,substituteDominants:Xn,substituteDominantSupertonics:Xn,secondaryDominantsMinorRelative:Xn},me=(0,H.A)((0,H.A)((0,H.A)({},Yn),Zn),{},{type:"major",minorRelative:"",scale:Xn,substituteDominants:Xn,secondaryDominantSupertonics:Xn,substituteDominantsMinorRelative:Xn}),te=(0,H.A)((0,H.A)({},Yn),{},{type:"minor",relativeMajor:"",natural:Zn,harmonic:Zn,melodic:Zn}),ne=function(m,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.map((t,e)=>"".concat(m[e]).concat(n).concat(t))};function ee(m,t,n,e,M){return P=>{const r=m.map(m=>Un(m).interval||""),o=r.map(m=>yn(P,m)),a=ne(o,n),i=o.map(m=>yn(m,"5P")).map(m=>o.includes(m)&&!a.includes(m+"7")?m+"7":""),s=Me(i,t),c=i.map(m=>{if(!m)return"";const t=m.slice(0,-1);return yn(t,"5d")+"7"}),d=Me(c,t);return{tonic:P,grades:m,intervals:r,scale:o,triads:ne(o,t),chords:a,chordsHarmonicFunction:e.slice(),chordScales:ne(o,M," "),secondaryDominants:i,secondaryDominantSupertonics:s,substituteDominants:c,substituteDominantSupertonics:d,secondaryDominantsMinorRelative:s,substituteDominantsMinorRelative:d}}}var Me=(m,t)=>m.map((m,n)=>{if(!m)return"";const e=m.slice(0,-1),M=yn(e,"5P");return t[n].endsWith("m")?M+"m7":M+"m7b5"}),Pe=(m,t)=>{const n=w(m),e=w(t);return n.empty||e.empty?0:e.coord[0]-n.coord[0]},re=ee("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),oe=ee("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),ae=ee("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),ie=ee("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function se(m){const t=w(m).pc;if(!t)return me;const n=re(t),e=Pe("C",t);return(0,H.A)((0,H.A)({},n),{},{type:"major",minorRelative:yn(t,"-3m"),alteration:e,keySignature:j(e)})}function ce(m){const t=w(m).pc;if(!t)return te;const n=Pe("C",t)-3;return{type:"minor",tonic:t,relativeMajor:yn(t,"3m"),alteration:n,keySignature:j(n),natural:oe(t),harmonic:ae(t),melodic:ie(t)}}var de={majorKey:se,majorTonicFromKeySignature:function(m){return"number"===typeof m?wn("C",m):"string"===typeof m&&/^b+|#+$/.test(m)?wn("C",N(m)):null},minorKey:ce};var ue=[0,2,4,-1,1,3,5],le=ue.map(m=>Math.floor(7*m/12));var fe=[3,0,4,1,5,2,6];var he=(m,t)=>Array(Math.abs(t)+1).join(m),pe=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),be=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var Ae={};function ge(m){return"string"===typeof m?Ae[m]||(Ae[m]=function(m){const t=function(m){const t=be.exec("".concat(m));return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return pe;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=ye[M];if("M"===P&&"P"===e)return pe;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,i=8===n||-8===n?n:a*(M+1),s=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),c=Math.floor((Math.abs(n)-1)/7),d=a*(ve[M]+s+12*c),u=(a*(ve[M]+s)%12+12)%12,l=function(m){const{step:t,alt:n,oct:e,dir:M=1}=m,P=ue[t]+7*n;return void 0===e?[M*P]:[M*P,M*(e-le[t]-4*n)]}({step:M,alt:s,oct:c,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:s,dir:a,type:r,simple:i,semitones:d,chroma:u,coord:l,oct:c}}(m)):null!==(t=m)&&"object"===typeof t&&"step"in t&&"number"===typeof t.step&&"alt"in t&&"number"===typeof t.alt&&!isNaN(t.step)&&!isNaN(t.alt)?ge(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===ye[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?he("A",t):he("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):function(m){return null!==m&&"object"===typeof m&&"name"in m&&"string"===typeof m.name}(m)?ge(m.name):pe;var t}var ve=[0,2,4,5,7,9,11],ye="PMMPPMM";function je(m,t){const[n,e=0]=m;return ge(function(m){const[t,n,e]=m,M=fe[function(m){const t=(m+1)%7;return t<0?7+t:t}(t)],P=Math.floor((t+1)/7);return void 0===n?{step:M,alt:P,dir:e}:{step:M,alt:P,oct:n+4*P+le[M],dir:e}}(t||7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}var Ne=ge;function we(m){const t=ge(m);return t.empty?"":t.simple+t.q}"P m M m M P d P m M m M".split(" ");Ie((m,t)=>[m[0]+t[0],m[1]+t[1]]),Ie((m,t)=>[m[0]-t[0],m[1]-t[1]]);function xe(m,t){const n=Ne(m);if(n.empty)return"";const[e,M,P]=n.coord;return je([e+t,M,P]).name}function Ie(m){return(t,n)=>{const e=ge(t).coord,M=ge(n).coord;if(e&&M){return je(m(e,M)).name}}}var De=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Ce=(0,H.A)((0,H.A)({},om),{},{name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]}),Te=De.map(function(m){const[t,n,e,M,P,r,o]=m,a=o?[o]:[],i=Number(n).toString(2),s=qt(M).intervals;return{empty:!1,intervals:s,modeNum:t,chroma:i,normalized:i,name:M,setNum:n,alt:e,triad:P,seventh:r,aliases:a}}),Se={};function Ve(m){return"string"===typeof m?Se[m.toLowerCase()]||Ce:m&&m.name?Ve(m.name):Ce}Te.forEach(m=>{Se[m.name]=m,m.aliases.forEach(t=>{Se[t]=m})});var ke=Ve;function qe(){return Te.slice()}var Oe=qe;function Ee(m){return(t,n)=>{const e=Ve(t);if(e.empty)return[];const M=W(e.modeNum,m),P=e.intervals.map(m=>S(n,m));return M.map((m,t)=>P[t]+m)}}function Fe(m,t){const n=Ve(t),e=Ve(m);return n.empty||e.empty?"":we(xe("1P",e.alt-n.alt))}var $e={get:Ve,names:function(){return Te.map(m=>m.name)},all:qe,distance:Fe,relativeTonic:function(m,t,n){return S(n,Fe(m,t))},notes:function(m,t){return Ve(m).intervals.map(m=>S(t,m))},triads:Ee(De.map(m=>m[4])),seventhChords:Ee(De.map(m=>m[5])),entries:Oe,mode:ke},_e=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 \u0394 ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 \u03949 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 \u0394#4 \u0394#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -\u03947 m\u0394 -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim \xb0 o"],["1P 3m 5d 7d","diminished seventh","dim7 \xb07 o7"],["1P 3m 5d 7m","half-diminished","m7b5 \xf8 -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 \u03949#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],ze=((0,H.A)((0,H.A)({},om),{},{name:"",quality:"Unknown",intervals:[],aliases:[]}),[]),Re={};function Ge(m,t,n){const e=function(m){const t=t=>-1!==m.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(m),M=(0,H.A)((0,H.A)({},um(m)),{},{name:n||"",quality:e,intervals:m,aliases:t});ze.push(M),M.name&&(Re[M.name]=M),Re[M.setNum]=M,Re[M.chroma]=M,M.aliases.forEach(m=>function(m,t){Re[t]=m}(M,m))}_e.forEach(m=>{let[t,n,e]=m;return Ge(t.split(" "),e.split(" "),n)}),ze.sort((m,t)=>m.setNum-t.setNum);var Be=[0,2,4,-1,1,3,5],Ue=Be.map(m=>Math.floor(7*m/12));var Le=[3,0,4,1,5,2,6];var Je=(m,t)=>Array(Math.abs(t)+1).join(m),He=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Ke=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var We={};function Qe(m){return"string"===typeof m?We[m]||(We[m]=function(m){const t=function(m){const t=Ke.exec("".concat(m));return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return He;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=Ye[M];if("M"===P&&"P"===e)return He;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,i=8===n||-8===n?n:a*(M+1),s=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),c=Math.floor((Math.abs(n)-1)/7),d=a*(Xe[M]+s+12*c),u=(a*(Xe[M]+s)%12+12)%12,l=function(m){const{step:t,alt:n,oct:e,dir:M=1}=m,P=Be[t]+7*n;return void 0===e?[M*P]:[M*P,M*(e-Ue[t]-4*n)]}({step:M,alt:s,oct:c,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:s,dir:a,type:r,simple:i,semitones:d,chroma:u,coord:l,oct:c}}(m)):null!==(t=m)&&"object"===typeof t&&"step"in t&&"number"===typeof t.step&&"alt"in t&&"number"===typeof t.alt&&!isNaN(t.step)&&!isNaN(t.alt)?Qe(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===Ye[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?Je("A",t):Je("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):function(m){return null!==m&&"object"===typeof m&&"name"in m&&"string"===typeof m.name}(m)?Qe(m.name):He;var t}var Xe=[0,2,4,5,7,9,11],Ye="PMMPPMM";function Ze(m,t){const[n,e=0]=m;return Qe(function(m){const[t,n,e]=m,M=Le[function(m){const t=(m+1)%7;return t<0?7+t:t}(t)],P=Math.floor((t+1)/7);return void 0===n?{step:M,alt:P,dir:e}:{step:M,alt:P,oct:n+4*P+Ue[M],dir:e}}(t||7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}"P m M m M P d P m M m M".split(" ");mM((m,t)=>[m[0]+t[0],m[1]+t[1]]),mM((m,t)=>[m[0]-t[0],m[1]-t[1]]);function mM(m){return(t,n)=>{const e=Qe(t).coord,M=Qe(n).coord;if(e&&M){return Ze(m(e,M)).name}}}function tM(m){const[t,n,e,M]=I(m);return""===t?nM("",m):"A"===t&&"ug"===M?nM("","aug"):nM(t+n,e+M)}function nM(m,t){const n=t.split("/");if(1===n.length)return[m,n[0],""];const[e,M,P,r]=I(n[1]);return""!==e&&""===P&&""===r?[m,n[0],e+M]:[m,t,""]}var eM={fromRomanNumerals:function(m,t){return t.map(Un).map(t=>S(m,Qe(t))+t.chordType)},toRomanNumerals:function(m,t){return t.map(t=>{const[n,e]=tM(t);return Un(Qe(k(m,n))).name+e})}};function MM(m){const t=Q(m.map(m=>"number"===typeof m?m:Pn(m)));return m.length&&t.length===m.length?t.reduce((m,t)=>{const n=m[m.length-1];return m.concat(K(n,t).slice(1))},[t[0]]):[]}var PM={numeric:MM,chromatic:function(m,t){return MM(m).map(m=>dn(m,t))}},rM=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 \u0394 ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 \u03949 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 \u0394#4 \u0394#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -\u03947 m\u0394 -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim \xb0 o"],["1P 3m 5d 7d","diminished seventh","dim7 \xb07 o7"],["1P 3m 5d 7m","half-diminished","m7b5 \xf8 -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 \u03949#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],oM=((0,H.A)((0,H.A)({},om),{},{name:"",quality:"Unknown",intervals:[],aliases:[]}),[]),aM={};function iM(){return oM.slice()}function sM(m,t,n){const e=function(m){const t=t=>-1!==m.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(m),M=(0,H.A)((0,H.A)({},um(m)),{},{name:n||"",quality:e,intervals:m,aliases:t});oM.push(M),M.name&&(aM[M.name]=M),aM[M.setNum]=M,aM[M.chroma]=M,M.aliases.forEach(m=>function(m,t){aM[t]=m}(M,m))}rM.forEach(m=>{let[t,n,e]=m;return sM(t.split(" "),e.split(" "),n)}),oM.sort((m,t)=>m.setNum-t.setNum);var cM={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function dM(m){if("string"!==typeof m)return["",""];const t=m.indexOf(" "),n=w(m.substring(0,t));if(n.empty){const t=w(m);return t.empty?["",m.toLowerCase()]:[t.name,""]}const e=m.substring(n.name.length+1).toLowerCase();return[n.name,e.length?e:""]}function uM(m){const t=Array.isArray(m)?m:dM(m),n=w(t[0]).name,e=qt(t[1]);if(e.empty)return cM;const M=e.name,P=n?e.intervals.map(m=>S(n,m)):[],r=n?n+" "+M:M;return(0,H.A)((0,H.A)({},e),{},{name:r,type:M,tonic:n,notes:P})}function lM(m){const t=bm(cm(m)?m:uM(m).chroma);return Et().filter(m=>t(m.chroma)).map(m=>m.name)}function fM(m){const t=m.map(m=>w(m).pc).filter(m=>m),n=t[0],e=Dn(t);return W(e.indexOf(n),e)}var hM={degrees:function(m){const{intervals:t,tonic:n}=uM(m),e=V(t,n);return m=>m?e(m>0?m-1:m):""},detect:function(m){var t,n;let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const M=lm(m),P=w(null!==(t=null!==(n=e.tonic)&&void 0!==n?n:m[0])&&void 0!==t?t:""),r=P.chroma;if(void 0===r)return[];const o=M.split("");o[r]="1";const a=W(r,o).join(""),i=Et().find(m=>m.chroma===a),s=[];return i&&s.push(P.name+" "+i.name),"exact"===e.match||lM(a).forEach(m=>{s.push(P.name+" "+m)}),s},extended:lM,get:uM,modeNames:function(m){const t=uM(m);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return hm(t.chroma).map((m,t)=>{const e=uM(m).name;return e?[n[t],e]:["",""]}).filter(m=>m[0])},names:kt,rangeOf:function(m){const t=function(m){const t=Array.isArray(m)?fM(m):uM(m).notes,n=t.map(m=>w(m).chroma);return m=>{const e=w("number"===typeof m?vn(m):m),M=e.height;if(void 0===M)return;const P=M%12,r=n.indexOf(P);return-1!==r?Cn(e.name,t[r]):void 0}}(m);return(m,n)=>{const e=w(m).height,M=w(n).height;return void 0===e||void 0===M?[]:K(e,M).map(t).filter(m=>m)}},reduced:function(m){const t=pm(uM(m).chroma);return Et().filter(m=>t(m.chroma)).map(m=>m.name)},scaleChords:function(m){const t=pm(uM(m).chroma);return iM().filter(m=>t(m.chroma)).map(m=>m.aliases[0])},scaleNotes:fM,steps:function(m){const{intervals:t,tonic:n}=uM(m);return V(t,n)},tokenize:dM,scale:uM},pM={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},bM=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];var AM=/^(\d*\d(?:\+\d)*)\/(\d+)$/,gM=new Map;function vM(m){if("string"===typeof m){const[t,n,e]=AM.exec(m)||[];return vM([n,e])}const[t,n]=m,e=+n;if("number"===typeof t)return[t,e];const M=t.split("+").map(m=>+m);return 1===M.length?[M[0],e]:[M,e]}var yM={names:function(){return bM.slice()},parse:vM,get:function(m){const t=JSON.stringify(m),n=gM.get(t);if(n)return n;const e=function(m){let[t,n]=m;const e=Array.isArray(t)?t.reduce((m,t)=>m+t,0):t,M=n;if(0===e||0===M)return pM;const P=Array.isArray(t)?"".concat(t.join("+"),"/").concat(n):"".concat(t,"/").concat(n),r=Array.isArray(t)?t:[],o=4===M||2===M?"simple":8===M&&e%3===0?"compound":jM(M)?"irregular":"irrational";return{empty:!1,name:P,type:o,upper:e,lower:M,additive:r}}(vM(m));return gM.set(t,e),e}},jM=m=>Math.log(m)/Math.log(2)%1===0;var NM=M,wM=gm,xM=Dt,IM=_t},9905:function(m,t,n){var e=this&&this.__assign||function(){return e=Object.assign||function(m){for(var t,n=1,e=arguments.length;n<e;n++)for(var M in t=arguments[n])Object.prototype.hasOwnProperty.call(t,M)&&(m[M]=t[M]);return m},e.apply(this,arguments)},M=this&&this.__rest||function(m,t){var n={};for(var e in m)Object.prototype.hasOwnProperty.call(m,e)&&t.indexOf(e)<0&&(n[e]=m[e]);if(null!=m&&"function"===typeof Object.getOwnPropertySymbols){var M=0;for(e=Object.getOwnPropertySymbols(m);M<e.length;M++)t.indexOf(e[M])<0&&Object.prototype.propertyIsEnumerable.call(m,e[M])&&(n[e[M]]=m[e[M]])}return n};t.__esModule=!0,t.dictionaryVoicing=t.dictionaryVoicingFinder=t.triads=t.guidetones=t.lefthand=void 0;var P=n(3317),r=n(1698);t.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},t.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};t.dictionaryVoicingFinder=function(m){return function(t,n){return(0,r.voicingsInRange)(t,m,n)}};t.dictionaryVoicing=function(m){var n=m.dictionary,r=m.range,o=M(m,["dictionary","range"]);return(0,P.getBestVoicing)(e(e({},o),{range:r,finder:(0,t.dictionaryVoicingFinder)(n)}))}}}]);
//# sourceMappingURL=985.b43ee726.chunk.js.map